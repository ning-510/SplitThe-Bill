<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ning å®¶åº­åˆ†å¸³ </title>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <style>
        :root {
            --primary: #2563eb;
            --primary-light: #eff6ff;
            --bg: #f3f4f6;
            --card: #ffffff;
            --text: #1f2937;
            --green: #10b981;
            --yellow: #f59e0b;
            --red: #ef4444;
            --border: #e5e7eb;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            margin: 0; padding: 20px;
            max-width: 600px; margin: 0 auto;
            line-height: 1.5;
        }
        .card {
            background: var(--card);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
            border: 1px solid rgba(0,0,0,0.05);
        }
        h3 { margin-top: 0; display: flex; align-items: center; gap: 8px; font-size: 1.1rem; color: #111827; }
        
        /* è¼¸å…¥èˆ‡æŒ‰éˆ• */
        input, select {
            width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px;
            box-sizing: border-box; font-size: 16px; background: #fff; outline: none;
            transition: border-color 0.2s;
            margin-bottom: 10px;
        }
        input:focus, select:focus { border-color: var(--primary); }

        button {
            width: 100%; padding: 14px; border: none; border-radius: 10px;
            font-size: 16px; font-weight: 600; cursor: pointer; transition: 0.2s;
            display: flex; justify-content: center; align-items: center; gap: 8px;
        }
        .btn-primary { background: var(--primary); color: white; box-shadow: 0 2px 4px rgba(37,99,235,0.2); }
        .btn-primary:active { transform: translateY(1px); }
        
        .btn-outline { background: white; border: 1px solid var(--border); color: #4b5563; margin-top: 12px; }
        .btn-outline:hover { background: #f9fafb; }
        
        .btn-danger { background: #fee2e2; color: #ef4444; width: auto; padding: 8px 12px; border-radius: 6px; }

        /* ä¸Šå‚³å€å¡Š */
        .upload-container { width: 100%; }
        .upload-area {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            width: 100%; height: 160px;
            border: 2px dashed #cbd5e1; border-radius: 12px; background: #f8fafc;
            color: #64748b; cursor: pointer; box-sizing: border-box; transition: all 0.2s;
        }
        .upload-area:hover, .upload-area:active {
            border-color: var(--primary); background: var(--primary-light); color: var(--primary);
        }
        .upload-icon { font-size: 32px; margin-bottom: 8px; }
        
        /* åœ–ç‰‡é è¦½ */
        #preview-box {
            display: none; margin-top: 15px; text-align: center;
            background: #000; border-radius: 8px; overflow: hidden;
        }
        #img-preview {
            max-width: 100%; max-height: 400px; display: block; margin: 0 auto;
        }

        /* é …ç›®åˆ—è¡¨ */
        .item-row {
            background: #fff; border: 1px solid var(--border); border-radius: 12px;
            padding: 12px; margin-bottom: 12px; display: flex; flex-direction: column; gap: 10px;
        }
        .row-top { display: flex; gap: 8px; }
        .row-bottom { display: flex; gap: 8px; }
        
        /* çµç®—å€å¡Š */
        .result-box {
            background: #1f2937; color: white; padding: 20px; border-radius: 12px; margin-top: 20px;
        }
        .result-row {
            display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.9em; color: #d1d5db;
        }
        .result-final {
            border-top: 1px solid #374151; margin-top: 15px; padding-top: 15px;
            font-size: 1.2em; font-weight: bold; color: var(--yellow); text-align: center;
        }

        /* å½™æ•´æ¸…å–® */
        .summary-list {
            margin-top: 15px; border-top: 1px dashed #4b5563; padding-top: 15px;
        }
        .summary-item {
            margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid #374151;
        }
        .summary-item:last-child { border-bottom: none; }
        .sum-header { color: #93c5fd; font-weight: bold; display: flex; justify-content: space-between; font-size: 0.95em; }
        .sum-items { color: #d1d5db; font-size: 0.85em; margin-top: 4px; line-height: 1.4; opacity: 0.9; }

        .hidden { display: none; }
        
        /* è¼‰å…¥å‹•ç•« */
        .spinner {
            width: 18px; height: 18px; border: 2px solid #fff; border-top-color: transparent; border-radius: 50%; animation: spin 1s linear infinite; display: none;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* éŒ¯èª¤è¨Šæ¯ */
        #error-msg {
            color: #991b1b; background: #fee2e2; padding: 15px; border-radius: 8px;
            margin-top: 15px; font-size: 14px; display: none; border: 1px solid #fecaca;
        }
        
        /* è¨­å®šå€å¡Šæ¨™ç±¤ */
        .label { font-size: 12px; color: #6b7280; margin-bottom: 4px; display: block; }
    </style>
</head>
<body>

    <!-- è¨­å®šå€ -->
    <div class="card" id="setup-card">
        <h3>ğŸ”‘ ç³»çµ±è¨­å®š</h3>
        
        <span class="label">API Key</span>
        <input type="password" id="api-key" placeholder="è²¼ä¸Š Gemini API Key (AIza...)">
        
        <span class="label">é¸æ“‡ AI æ¨¡å‹ (å¦‚æœå ±éŒ¯è«‹æ›ä¸€å€‹)</span>
        <select id="model-select">
            <option value="gemini-1.5-flash-002" selected>Gemini 1.5 Flash-002 (æ¨è–¦)</option>
            <option value="gemini-1.5-flash">Gemini 1.5 Flash (èˆŠç‰ˆ)</option>
            <option value="gemini-1.5-flash-8b">Gemini 1.5 Flash-8b (å¿«é€Ÿ)</option>
            <option value="gemini-2.0-flash-exp">Gemini 2.0 Flash Exp (æœ€æ–°å¯¦é©—)</option>
            <option value="gemini-1.5-pro">Gemini 1.5 Pro (æœ€å¼·å¤§)</option>
        </select>

        <button onclick="saveSettings()" class="btn-primary" style="margin-top:10px;">å„²å­˜ä¸¦é–‹å§‹</button>
        <div style="font-size:12px; color:#666; margin-top:8px;">* è‹¥å‡ºç¾ "Model not found" éŒ¯èª¤ï¼Œè«‹åˆ‡æ›ä¸åŒæ¨¡å‹è©¦è©¦ã€‚</div>
    </div>

    <!-- ä¸Šå‚³å€ -->
    <div class="card">
        <h3>ğŸ“¸ 1. ä¸Šå‚³æ”¶æ“š</h3>
        
        <div class="upload-container">
            <label class="upload-area">
                <i class="ph ph-camera upload-icon"></i>
                <div>é»æ­¤æ‹ç…§æˆ–é¸åœ–</div>
                <input type="file" id="file-input" accept="image/*" style="display:none">
            </label>
        </div>
        
        <div id="preview-box">
            <img id="img-preview">
        </div>
        
        <div id="error-msg"></div>

        <button onclick="processImage()" class="btn-primary" id="scan-btn" disabled style="margin-top: 15px; opacity: 0.6;">
            <span class="spinner" id="spinner"></span>
            <span id="btn-text">ğŸ¤– AI è¾¨è­˜</span>
        </button>

        <button onclick="loadDemo()" class="btn-outline" style="font-size: 13px; padding: 10px;">
            ğŸ§ª è¼‰å…¥æ¸¬è©¦è³‡æ–™
        </button>
        
        <div style="text-align: center; margin-top: 10px;">
            <a href="#" onclick="showSettings()" style="font-size: 12px; color: #6b7280; text-decoration: underline;">ä¿®æ”¹ Key æˆ– æ¨¡å‹</a>
        </div>
    </div>

    <!-- ç·¨è¼¯èˆ‡çµç®— -->
    <div id="result-area" class="hidden">
        <div class="card">
            <h3>ğŸ“ 2. ç¢ºèªæ¸…å–®</h3>
            <div id="items-list"></div>
            <button onclick="addNewRow()" class="btn-outline">+ æ–°å¢ä¸€ç­†</button>
        </div>

        <div class="card">
            <h3>ğŸ’° 3. çµç®—é¢æ¿</h3>
            <div class="result-box">
                <div class="result-row"><span>ç¸½é‡‘é¡</span><span id="sum-total">$0</span></div>
                <div class="result-row"><span>Ning æˆæœ¬</span><span id="sum-my-cost">$0</span></div>
                <div class="result-row"><span>Hsiang æˆæœ¬</span><span id="sum-his-cost">$0</span></div>

                <div class="summary-list" id="visual-summary"></div>

                <div class="result-final" id="final-settlement">çµç®—ä¸­...</div>
            </div>

            <button onclick="copyResult()" class="btn-primary" style="background: var(--green); margin-top: 15px;">
                ğŸ“‹ è¤‡è£½ (å½™æ•´æ–‡å­—ç‰ˆ)
            </button>
        </div>
    </div>

<script>
    const CATEGORIES = [
        "ğŸ  å±…ä½", "ğŸ½ï¸ é£²é£Ÿ", "ğŸš— 8510", "ğŸšŒ äº¤é€š", "ğŸ® å¨›æ¨‚", 
        "ğŸ’Š é†«ç™‚", "ğŸ’¸ é›œæ”¯", "âœˆï¸ æ—…éŠ", "ğŸ± å¸•å¸ƒ", "ğŸ“¦ å…¶ä»–"
    ];

    const SPLIT_TYPES = [
        { val: "his_pay_split", text: "Hsiang / 2" },
        { val: "his_pay_for_me", text: "Hsiang å¢Š" },
        { val: "his_pay_his_use", text: "Hsiang" },
        { val: "my_pay_split", text: "Ning / 2" },
        { val: "my_pay_for_him", text: "Ning å¢Š" },
        { val: "my_pay_my_use", text: "Ning" }
    ];

    // åˆå§‹åŒ–è¨­å®š
    window.onload = () => {
        const key = localStorage.getItem("gemini_key_v2");
        const model = localStorage.getItem("gemini_model") || "gemini-1.5-flash-002"; // é è¨­æ–°ç‰ˆ
        
        if(model) document.getElementById("model-select").value = model;
        
        if(key) {
            document.getElementById("api-key").value = key;
            document.getElementById("setup-card").style.display = "none";
        }
    };

    function saveSettings() {
        const key = document.getElementById("api-key").value.trim();
        const model = document.getElementById("model-select").value;
        
        if(!key) return alert("è«‹è¼¸å…¥ Key");
        
        localStorage.setItem("gemini_key_v2", key);
        localStorage.setItem("gemini_model", model);
        
        document.getElementById("setup-card").style.display = "none";
        alert("è¨­å®šå·²å„²å­˜ï¼ç›®å‰ä½¿ç”¨æ¨¡å‹: " + model);
    }

    function showSettings() {
        document.getElementById("setup-card").style.display = "block";
        document.getElementById("setup-card").scrollIntoView({behavior: "smooth"});
    }

    document.getElementById("file-input").onchange = async (e) => {
        const file = e.target.files[0];
        if(!file) return;

        const reader = new FileReader();
        reader.onload = (e) => {
            const previewBox = document.getElementById("preview-box");
            const img = document.getElementById("img-preview");
            img.src = e.target.result;
            previewBox.style.display = "block";
            
            document.getElementById("error-msg").style.display = "none";
            document.getElementById("scan-btn").disabled = false;
            document.getElementById("scan-btn").style.opacity = "1";
        };
        reader.readAsDataURL(file);
    };

    function compressImage(file) {
        return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = (event) => {
                const img = new Image();
                img.src = event.target.result;
                img.onload = () => {
                    const canvas = document.createElement('canvas');
                    const MAX_WIDTH = 1024; 
                    let width = img.width;
                    let height = img.height;

                    if (width > MAX_WIDTH) {
                        height *= MAX_WIDTH / width;
                        width = MAX_WIDTH;
                    }

                    canvas.width = width;
                    canvas.height = height;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0, width, height);

                    const dataUrl = canvas.toDataURL('image/jpeg', 0.8);
                    const base64 = dataUrl.split(',')[1];
                    resolve(base64);
                };
                img.onerror = () => reject("åœ–ç‰‡è®€å–å¤±æ•—");
            };
            reader.onerror = () => reject("æª”æ¡ˆè®€å–å¤±æ•—");
        });
    }

    async function processImage() {
        const file = document.getElementById("file-input").files[0];
        const key = localStorage.getItem("gemini_key_v2");
        const model = localStorage.getItem("gemini_model") || "gemini-1.5-flash-002"; // è®€å–é¸å®šçš„æ¨¡å‹
        const errorDiv = document.getElementById("error-msg");
        
        if(!file) return alert("è«‹é¸åœ–ç‰‡");
        if(!key) return showSettings();

        const btn = document.getElementById("scan-btn");
        const spinner = document.getElementById("spinner");
        const btnText = document.getElementById("btn-text");
        errorDiv.style.display = "none";
        
        btn.disabled = true;
        spinner.style.display = "inline-block";
        btnText.innerText = ` æ­£åœ¨å‘¼å« ${model}...`;

        try {
            const base64 = await compressImage(file);
            const catString = JSON.stringify(CATEGORIES);
            
            const prompt = `
            ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„è¨˜å¸³åŠ©æ‰‹ã€‚è«‹åˆ†æé€™å¼µç™¼ç¥¨/æ”¶æ“šã€‚
            ã€é‡è¦è¦å‰‡ã€‘
            1. é€™å¼µæ”¶æ“šå¯èƒ½å¾ˆé•·ï¼Œè«‹å‹™å¿…è¾¨è­˜ **æ‰€æœ‰** å“é …ã€‚
            2. **æŠ˜æ‰£è™•ç†**ï¼šå¦‚æœçœ‹åˆ° "æŠ˜æ‰£"ã€"æ¸›åƒ¹"ã€"ä¿ƒéŠ·" æˆ–è² æ•¸é‡‘é¡ï¼Œè«‹å°‡å…¶è¦–ç‚ºä¸€å€‹ç¨ç«‹çš„é …ç›®ï¼Œåƒ¹æ ¼è¨˜ç‚ºè² æ•¸ (ä¾‹å¦‚: -20)ã€‚
            3. æå–æ‰€æœ‰å“é …åç¨± (n) å’Œåƒ¹æ ¼ (p)ã€‚
            4. æ ¹æ“šå“é …åç¨±ï¼Œå¾ä»¥ä¸‹åˆ—è¡¨ä¸­é¸æ“‡ä¸€å€‹æœ€é©åˆçš„åˆ†é¡ (c)ï¼š${catString}ã€‚
            5. å¦‚æœç„¡æ³•ç¢ºå®šï¼Œåˆ†é¡è«‹é¸ "ğŸ“¦ å…¶ä»–"ã€‚
            6. åªå›å‚³ç´” JSON é™£åˆ—ï¼Œä¸è¦ Markdown æ ¼å¼ã€‚
            `;

            const safetySettings = [
                { category: "HARM_CATEGORY_HARASSMENT", threshold: "BLOCK_NONE" },
                { category: "HARM_CATEGORY_HATE_SPEECH", threshold: "BLOCK_NONE" },
                { category: "HARM_CATEGORY_SEXUALLY_EXPLICIT", threshold: "BLOCK_NONE" },
                { category: "HARM_CATEGORY_DANGEROUS_CONTENT", threshold: "BLOCK_NONE" }
            ];

            const generationConfig = {
                maxOutputTokens: 8192,
                temperature: 0.1
            };

            // ä½¿ç”¨è®Šæ•¸ model ä¾†æ±ºå®šå‘¼å«å“ªä¸€å€‹ API
            const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${key}`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: prompt }, { inline_data: { mime_type: "image/jpeg", data: base64 } }] }],
                    safetySettings: safetySettings,
                    generationConfig: generationConfig
                })
            });

            const data = await res.json();
            
            if (data.error) {
                let msg = data.error.message;
                // è‡ªå‹•åµæ¸¬ Model Not Found
                if (msg.includes("not found") || msg.includes("not supported")) {
                    throw new Error(`æ¨¡å‹ ${model} ç›®å‰ä¸å¯ç”¨ã€‚è«‹é»æ“Šã€Œä¿®æ”¹ Key æˆ– æ¨¡å‹ã€åˆ‡æ›å…¶ä»–æ¨¡å‹ (ä¾‹å¦‚ Flash-8b æˆ– Pro)ã€‚`);
                }
                throw new Error(`API éŒ¯èª¤: ${msg}`);
            }

            if (!data.candidates || !data.candidates[0]) {
                throw new Error("AI ç„¡æ³•è¾¨è­˜å…§å®¹ (å¯èƒ½åœ–ç‰‡éé•·æˆ–è¢«æˆªæ–·)");
            }

            let text = data.candidates[0].content.parts[0].text;
            text = text.replace(/```json|```/g, "").trim();
            if (text.startsWith('[') && !text.endsWith(']')) text += ']';

            let items;
            try {
                items = JSON.parse(text);
            } catch (e) {
                throw new Error("JSON è§£æå¤±æ•— (å¯èƒ½æ˜¯é …ç›®å¤ªå¤šå°è‡´æ ¼å¼äº‚æ‰)");
            }

            renderItems(items);
            document.getElementById("result-area").classList.remove("hidden");
            document.getElementById("result-area").scrollIntoView({behavior: "smooth"});

        } catch(e) {
            console.error(e);
            errorDiv.style.display = "block";
            errorDiv.innerHTML = `<strong>âš ï¸ ç™¼ç”ŸéŒ¯èª¤ï¼š</strong><br>${e.message}<br><br>è«‹å˜—è©¦åˆ‡æ›æ¨¡å‹æˆ–æª¢æŸ¥ç¶²è·¯ã€‚`;
        } finally {
            btn.disabled = false;
            spinner.style.display = "none";
            btnText.innerText = "ğŸ¤– AI è¾¨è­˜";
        }
    }

    function loadDemo() {
        const demo = [
            {n: "Costco ç‰›è‚‰æ²", p: 89, c: "ğŸ½ï¸ é£²é£Ÿ", type: "my_pay_split"},
            {n: "ä¿ƒéŠ·æŠ˜æ‰£", p: -10, c: "ğŸ½ï¸ é£²é£Ÿ", type: "my_pay_split"},
            {n: "å¸•å¸ƒçš„ç½ç½", p: 599, c: "ğŸ± å¸•å¸ƒ", type: "his_pay_split"},
            {n: "Hsiangçš„éŠæˆ²ç‰‡", p: 1200, c: "ğŸ® å¨›æ¨‚", type: "his_pay_his_use"}
        ];
        renderItems(demo);
        document.getElementById("result-area").classList.remove("hidden");
        document.getElementById("result-area").scrollIntoView({behavior: "smooth"});
    }

    function renderItems(items) {
        const list = document.getElementById("items-list");
        list.innerHTML = "";
        items.forEach(i => addItem(i.n, i.p, i.c, i.type || "my_pay_split"));
        calc();
    }

    function addItem(name, price, category = "ğŸ“¦ å…¶ä»–", type = "my_pay_split") {
        const list = document.getElementById("items-list");
        const div = document.createElement("div");
        div.className = "item-row";
        div.innerHTML = `
            <div class="row-top">
                <input value="${name}" placeholder="å“é …" style="flex:2">
                <input type="number" value="${price}" oninput="calc()" placeholder="$" style="flex:1; text-align:right">
            </div>
            <div class="row-bottom">
                <select style="flex:1.2" class="cat-select">
                    ${CATEGORIES.map(c => `<option ${c === category ? 'selected' : ''}>${c}</option>`).join('')}
                </select>
                <select style="flex:1.8" onchange="calc()" class="split-select">
                    ${SPLIT_TYPES.map(t => `<option value="${t.val}" ${t.val===type?'selected':''}>${t.text}</option>`).join('')}
                </select>
                <button class="btn-danger" onclick="this.parentElement.parentElement.remove();calc()">
                    <i class="ph ph-trash"></i>
                </button>
            </div>
        `;
        list.appendChild(div);
    }

    function addNewRow() { addItem("", "", "ğŸ“¦ å…¶ä»–"); }

    function calc() {
        let total = 0, ningCost = 0, hsiangCost = 0, hsiangOwesNing = 0;
        let summaryData = {};
        SPLIT_TYPES.forEach(t => summaryData[t.val] = { text: t.text, sum: 0, items: [] });

        document.querySelectorAll(".item-row").forEach(row => {
            const n = row.querySelector("input").value;
            const p = Number(row.querySelector("input[type=number]").value) || 0;
            const splitType = row.querySelector(".split-select").value;
            total += p;
            if (n && summaryData[splitType]) {
                summaryData[splitType].sum += p;
                summaryData[splitType].items.push(n);
            }
            switch(splitType) {
                case "my_pay_split": ningCost += p/2; hsiangCost += p/2; hsiangOwesNing += p/2; break;
                case "his_pay_split": ningCost += p/2; hsiangCost += p/2; hsiangOwesNing -= p/2; break;
                case "his_pay_for_me": ningCost += p; hsiangOwesNing -= p; break;
                case "my_pay_for_him": hsiangCost += p; hsiangOwesNing += p; break;
                case "my_pay_my_use": ningCost += p; break;
                case "his_pay_his_use": hsiangCost += p; break;
            }
        });

        document.getElementById("sum-total").innerText = "$" + Math.round(total);
        document.getElementById("sum-my-cost").innerText = "$" + Math.round(ningCost);
        document.getElementById("sum-his-cost").innerText = "$" + Math.round(hsiangCost);

        const finalDiv = document.getElementById("final-settlement");
        const finalVal = Math.round(hsiangOwesNing);
        if (finalVal > 0) {
            finalDiv.innerText = `çµç®—ï¼šHsiang çµ¦ Ning $${finalVal}`;
            finalDiv.style.color = "#4ade80"; 
        } else if (finalVal < 0) {
            finalDiv.innerText = `çµç®—ï¼šNing çµ¦ Hsiang $${Math.abs(finalVal)}`;
            finalDiv.style.color = "#f87171"; 
        } else {
            finalDiv.innerText = "çµç®—ï¼šäº’ä¸ç›¸æ¬ ";
            finalDiv.style.color = "#fbbf24";
        }

        const visualDiv = document.getElementById("visual-summary");
        visualDiv.innerHTML = "";
        SPLIT_TYPES.forEach(type => {
            const data = summaryData[type.val];
            if (data.items.length > 0) {
                const itemHTML = `
                    <div class="summary-item">
                        <div class="sum-header"><span>${data.text}</span><span>$${data.sum}</span></div>
                        <div class="sum-items">${data.items.join(", ")}</div>
                    </div>`;
                visualDiv.innerHTML += itemHTML;
            }
        });
    }

    function copyResult() {
        let outputText = "";
        let summaryData = {};
        SPLIT_TYPES.forEach(t => summaryData[t.val] = { text: t.text, sum: 0, items: [] });
        let hasData = false;
        
        document.querySelectorAll(".item-row").forEach(row => {
            const n = row.querySelector("input").value.trim();
            const p = Number(row.querySelector("input[type=number]").value) || 0;
            const splitType = row.querySelector(".split-select").value;
            if(n) {
                summaryData[splitType].sum += p;
                summaryData[splitType].items.push(n);
                hasData = true;
            }
        });

        if(!hasData) return alert("æ²’æœ‰è³‡æ–™");

        SPLIT_TYPES.forEach(type => {
            const data = summaryData[type.val];
            if (data.items.length > 0) {
                outputText += `${data.text}\t${data.sum}\t${data.items.join(", ")}\n`;
            }
        });

        const textArea = document.createElement('textarea');
        textArea.value = outputText;
        textArea.style.position = 'fixed';
        textArea.style.left = '-9999px';
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        try {
            document.execCommand('copy');
            alert("âœ… å·²è¤‡è£½ (å½™æ•´ç‰ˆ)ï¼");
        } catch (err) {
            alert("âŒ è¤‡è£½å¤±æ•—");
        }
        document.body.removeChild(textArea);
    }
</script>
</body>
</html>
